local a=select;local b=string.byte;local c=string.sub;local d={{b='T3BBcmdS',c='T3BBcmdO'},{b='T3BBcmdL',c='T3BBcmdO'},{b='T3BBcmdV',c='T3BBcmdV'},{b='T3BBcmdS',c='T3BBcmdO'},{b='T3BBcmdV',c='T3BBcmdO'},{b='T3BBcmdL',c='T3BBcmdO'},{b='T3BBcmdS',c='T3BBcmdL'},{b='T3BBcmdL',c='T3BBcmdO'},{b='T3BBcmdV',c='T3BBcmdO'},{b='T3BBcmdL',c='T3BBcmdL'},{b='T3BBcmdV',c='T3BBcmdV'},{b='T3BBcmdS',c='T3BBcmdL'},{b='T3BBcmdL',c='T3BBcmdL'},{b='T3BBcmdL',c='T3BBcmdL'},{b='T3BBcmdL',c='T3BBcmdL'},{b='T3BBcmdL',c='T3BBcmdL'},{b='T3BBcmdL',c='T3BBcmdL'},{b='T3BBcmdL',c='T3BBcmdL'},{b='T3BBcmdS',c='T3BBcmdO'},{b='T3BBcmdS',c='T3BBcmdO'},{b='T3BBcmdS',c='T3BBcmdO'},{b='T3BBcmdS',c='T3BBcmdS'},{b='T3BBcmdS',c='T3BBcmdO'},{b='T3BBcmdL',c='T3BBcmdL'},{b='T3BBcmdL',c='T3BBcmdL'},{b='T3BBcmdL',c='T3BBcmdL'},{b='T3BBcmdS',c='T3BBcmdV'},{b='T3BBcmdS',c='T3BBcmdV'},{b='T3BBcmdV',c='T3BBcmdV'},{b='T3BBcmdV',c='T3BBcmdV'},{b='T3BBcmdV',c='T3BBcmdO'},{b='T3BBcmdS',c='T3BBcmdO'},{b='T3BBcmdS',c='T3BBcmdO'},{b='T3BBcmdO',c='T3BBcmdV'},{b='T3BBcmdV',c='T3BBcmdV'},{b='T3BBcmdO',c='T3BBcmdO'},{b='T3BBcmdV',c='T3BBcmdO'},{b='T3BBcmdV',c='T3BBcmdO'}}local e={'QUJD','QUJ4','QUJD','QUJD','QUJD','QUJ4','QUJD','QUJ4','QUJD','QUJD','QUJD','QUJD','QUJD','QUJD','QUJD','QUJD','QUJD','QUJD','QUJD','QUJD','QUJD','QUJD','QXNCeA==','QUJD','QUJD','QUJD','QUJD','QUJD','QUJD','QUJD','QUJD','QXNCeA==','QXNCeA==','QUJD','QUJD','QUJD','QUJ4','QUJD'}local f='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'function dec(g)g=string.gsub(g,'[^'..f..'=]','')return g:gsub('.',function(h)if h=='='then return''end;local i,j='',f:find(h)-1;for k=6,1,-1 do i=i..(j%2^k-j%2^(k-1)>0 and'1'or'0')end;return i end):gsub('%d%d%d?%d?%d?%d?%d?%d?',function(h)if#h~=8 then return''end;local l=0;for k=1,8 do l=l+(h:sub(k,k)=='1'and 2^(8-k)or 0)end;return string.char(l)end)end;local function m()local n={}local o={}for k,p in pairs(d)do n[k]={b=dec(p.b),c=dec(p.c)}end;for k,p in pairs(e)do o[k]=dec(p)end;return n,o end;d,e=m()local function q(r,s,t)if t then local u=r/2^(s-1)%2^(t-1-(s-1)+1)return u-u%1 else local v=2^(s-1)if r%(v+v)>=v then return 1 else return 0 end end end;local function w(x)local y=1;local z;local A;local function B()local C=b(x,y,y)y=y+1;return C end;local function D()local E,F,G,H=b(x,y,y+3)y=y+4;return H*16777216+G*65536+F*256+E end;local function I()return D()*4294967296+D()end;local function J()local K=D()local L=D()local M=1;local N=q(L,1,20)*2^32+K;local O=q(L,21,31)local P=(-1)^q(L,32)if O==0 then if N==0 then return P*0 else O=1;M=0 end elseif O==2047 then if N==0 then return P*1/0 else return P*0/0 end end;return math.ldexp(P,O-1023)*(M+N/2^52)end;local function Q(R)local S;if R then S=c(x,y,y+R-1)y=y+R else R=z()if R==0 then return end;S=c(x,y,y+R-1)y=y+R end;return S end;local function T()local U={}local V={}local W={}local X={Instr=U,Const=V,Proto=W,Lines={},Name=Q(),FirstL=A(),LastL=A(),Upvals=B(),Args=B(),Vargs=B(),Stack=B()}local Y={}if X.Name then X.Name=c(X.Name,1,-2)end;for Z=1,A()do local _=D()local a0=q(_,1,6)local a1=e[a0+1]local a2=d[a0+1]local a3={Enum=a0,Value=_,q(_,7,14)}if a1=='ABC'then a3[2]=q(_,24,32)a3[3]=q(_,15,23)elseif a1=='ABx'then a3[2]=q(_,15,32)elseif a1=='AsBx'then a3[2]=q(_,15,32)-131071 end;do if a0==26 or a0==27 then a3[3]=a3[3]==0 end;if a0>=23 and a0<=25 then a3[1]=a3[1]~=0 end;if a2.b=='OpArgK'then a3[3]=a3[3]or false;if a3[2]>=256 then local a4=a3[2]-256;a3[4]=a4;local a5=Y[a4]if not a5 then a5={}Y[a4]=a5 end;a5[#a5+1]={Inst=a3,Register=4}end end;if a2.c=='OpArgK'then a3[4]=a3[4]or false;if a3[3]>=256 then local a4=a3[3]-256;a3[5]=a4;local a5=Y[a4]if not a5 then a5={}Y[a4]=a5 end;a5[#a5+1]={Inst=a3,Register=5}end end end;U[Z]=a3 end;for Z=1,A()do local a1=B()local a4;if a1==1 then a4=B()~=0 elseif a1==3 then a4=J()elseif a1==4 then a4=c(Q(),1,-2)end;local a6=Y[Z-1]if a6 then for k=1,#a6 do a6[k].Inst[a6[k].Register]=a4 end end;V[Z-1]=a4 end;for Z=1,A()do W[Z-1]=T()end;do local a7=X.Lines;for Z=1,A()do a7[Z]=D()end;for a8=1,A()do Q()D()D()end;for a8=1,A()do Q()end end;return X end;do assert(Q(4)=="\27Lua","Lua bytecode expected.")assert(B()==0x51,"Only Lua 5.1 is supported.")B()B()local a9=B()local aa=B()if a9==4 then A=D elseif a9==8 then A=I else error('Integer size not supported',2)end;if aa==4 then z=D elseif aa==8 then z=I else error('Sizet size not supported',2)end;assert(Q(3)=="\4\8\0","Unsupported bytecode target platform")end;return T()end;local function ab(...)return a('#',...),{...}end;local function ac(X,ad,ae)local U=X.Instr;local V=X.Const;local W=X.Proto;local function af(ag,ah)local ai=X.Name or'Code'local aj=X.Lines[ah]or'?'error(string.format('%s:%s: %s',ai,aj,tostring(ag)),0)end;return function(...)local ak,al=1,-1;local am,an={},a('#',...)-1;local ao={}local ap={}local aq=setmetatable({},{__index=ao,__newindex=function(a8,ar,as)if ar>al then al=ar end;ao[ar]=as end})local function at()local a3,au;while true do a3=U[ak]au=a3.Enum;ak=ak+1;if au==0 then aq[a3[1]]=aq[a3[2]]elseif au==1 then aq[a3[1]]=V[a3[2]]elseif au==2 then aq[a3[1]]=a3[2]~=0;if a3[3]~=0 then ak=ak+1 end elseif au==3 then local av=aq;for Z=a3[1],a3[2]do av[Z]=nil end elseif au==4 then aq[a3[1]]=ae[a3[2]]elseif au==5 then aq[a3[1]]=ad[V[a3[2]]]elseif au==6 then local av=aq;av[a3[1]]=av[a3[2]][a3[5]or av[a3[3]]]elseif au==7 then ad[V[a3[2]]]=aq[a3[1]]elseif au==8 then ae[a3[2]]=aq[a3[1]]elseif au==9 then local av=aq;av[a3[1]][a3[4]or av[a3[2]]]=a3[5]or av[a3[3]]elseif au==10 then aq[a3[1]]={}elseif au==11 then local av=aq;local aw=a3[1]local ax=av[a3[2]]local ay=a3[5]or av[a3[3]]av[aw+1]=ax;av[aw]=ax[ay]elseif au==12 then local av=aq;av[a3[1]]=(a3[4]or av[a3[2]])+(a3[5]or av[a3[3]])elseif au==13 then local av=aq;av[a3[1]]=(a3[4]or av[a3[2]])-(a3[5]or av[a3[3]])elseif au==14 then local av=aq;av[a3[1]]=(a3[4]or av[a3[2]])*(a3[5]or av[a3[3]])elseif au==15 then local av=aq;av[a3[1]]=(a3[4]or av[a3[2]])/(a3[5]or av[a3[3]])elseif au==16 then local av=aq;av[a3[1]]=(a3[4]or av[a3[2]])%(a3[5]or av[a3[3]])elseif au==17 then local av=aq;av[a3[1]]=(a3[4]or av[a3[2]])^(a3[5]or av[a3[3]])elseif au==18 then aq[a3[1]]=-aq[a3[2]]elseif au==19 then aq[a3[1]]=not aq[a3[2]]elseif au==20 then aq[a3[1]]=#aq[a3[2]]elseif au==21 then local av=aq;local ax=a3[2]local az=av[ax]for Z=ax+1,a3[3]do az=az..av[Z]end;aq[a3[1]]=az elseif au==22 then ak=ak+a3[2]elseif au==23 then local av=aq;local ax=a3[4]or av[a3[2]]local ay=a3[5]or av[a3[3]]if ax==ay~=a3[1]then ak=ak+1 end elseif au==24 then local av=aq;local ax=a3[4]or av[a3[2]]local ay=a3[5]or av[a3[3]]if ax<ay~=a3[1]then ak=ak+1 end elseif au==25 then local av=aq;local ax=a3[4]or av[a3[2]]local ay=a3[5]or av[a3[3]]if ax<=ay~=a3[1]then ak=ak+1 end elseif au==26 then if a3[3]then if aq[a3[1]]then ak=ak+1 end elseif aq[a3[1]]then else ak=ak+1 end elseif au==27 then local ax=aq[a3[2]]if a3[3]then if ax then ak=ak+1 else aq[a3[1]]=ax end elseif ax then aq[a3[1]]=ax else ak=ak+1 end elseif au==28 then local aw=a3[1]local ax=a3[2]local ay=a3[3]local av=aq;local aA,aB;local aC,aD;aA={}if ax~=1 then if ax~=0 then aC=aw+ax-1 else aC=al end;aD=0;for Z=aw+1,aC do aD=aD+1;aA[aD]=av[Z]end;aC,aB=ab(av[aw](unpack(aA,1,aC-aw)))else aC,aB=ab(av[aw]())end;al=aw-1;if ay~=1 then if ay~=0 then aC=aw+ay-2 else aC=aC+aw-1 end;aD=0;for Z=aw,aC do aD=aD+1;av[Z]=aB[aD]end end elseif au==29 then local aw=a3[1]local ax=a3[2]local av=aq;local aA,aB;local aC;local aE=0;aA={}if ax~=1 then if ax~=0 then aC=aw+ax-1 else aC=al end;for Z=aw+1,aC do aA[#aA+1]=av[Z]end;aB={av[aw](unpack(aA,1,aC-aw))}else aB={av[aw]()}end;for aF in pairs(aB)do if aF>aE then aE=aF end end;return aB,aE elseif au==30 then local aw=a3[1]local ax=a3[2]local av=aq;local aD,aG;local aC;if ax==1 then return elseif ax==0 then aC=al else aC=aw+ax-2 end;aG={}aD=0;for Z=aw,aC do aD=aD+1;aG[aD]=av[Z]end;return aG,aD elseif au==31 then local aw=a3[1]local av=aq;local aH=av[aw+2]local aF=av[aw]+aH;av[aw]=aF;if aH>0 then if aF<=av[aw+1]then ak=ak+a3[2]av[aw+3]=aF end else if aF>=av[aw+1]then ak=ak+a3[2]av[aw+3]=aF end end elseif au==32 then local aw=a3[1]local av=aq;av[aw]=assert(tonumber(av[aw]),'`for` initial value must be a number')av[aw+1]=assert(tonumber(av[aw+1]),'`for` limit must be a number')av[aw+2]=assert(tonumber(av[aw+2]),'`for` step must be a number')av[aw]=av[aw]-av[aw+2]ak=ak+a3[2]elseif au==33 then local aw=a3[1]local ay=a3[3]local av=aq;local aI=aw+2;local aJ={av[aw](av[aw+1],av[aw+2])}for Z=1,ay do aq[aI+Z]=aJ[Z]end;if av[aw+3]~=nil then av[aw+2]=av[aw+3]else ak=ak+1 end elseif au==34 then local aw=a3[1]local ax=a3[2]local ay=a3[3]local av=aq;if ay==0 then ak=ak+1;ay=U[ak].Value end;local aI=(ay-1)*50;local aK=av[aw]if ax==0 then ax=al-aw end;for Z=1,ax do aK[aI+Z]=av[aw+Z]end elseif au==35 then local aw=a3[1]local aL={}for Z=1,#ap do local aM=ap[Z]for aN=0,#aM do local aO=aM[aN]local av=aO[1]local y=aO[2]if av==aq and y>=aw then aL[y]=av[y]aO[1]=aL end end end elseif au==36 then local aP=W[a3[2]]local av=aq;local aQ;local aR;if aP.Upvals~=0 then aQ={}aR=setmetatable({},{__index=function(a8,ar)local aS=aQ[ar]return aS[1][aS[2]]end,__newindex=function(a8,ar,as)local aS=aQ[ar]aS[1][aS[2]]=as end})for Z=1,aP.Upvals do local aT=U[ak]if aT.Enum==0 then aQ[Z-1]={av,aT[2]}elseif aT.Enum==4 then aQ[Z-1]={ae,aT[2]}end;ak=ak+1 end;ap[#ap+1]=aQ end;av[a3[1]]=ac(aP,ad,aR)elseif au==37 then local aw=a3[1]local ax=a3[2]local av,aU=aq,am;al=aw-1;for Z=aw,aw+(ax>0 and ax-1 or an)do av[Z]=aU[Z-aw]end end end end;local aA={...}for Z=0,an do if Z>=X.Args then am[Z-X.Args]=aA[Z+1]else aq[Z]=aA[Z+1]end end;local aw,ax,ay=pcall(at)if aw then if ax and ay>0 then return unpack(ax,1,ay)end;return else af(ax,ak-1)end end end;local function aV(aW,ad)local aX=w(aW)return ac(aX,ad or getfenv(0)),aX end